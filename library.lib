MOV R1, SP
MOV R2, 5
SUB R1, R2
MOV R2, "Write"
MOV R1, [R1]
EQ R1, R2
JZ R1, 64
MOV R1, SP
MOV R2, 4
SUB R1, R2
MOV R2, [R1]
ADD R1, 1
MOV R3, [R1]
ADD R1, 1
MOV R4, [R1]
MOV R5, 5
PUSH R5
PUSH R2
PUSH R3
PUSH R4
PUSH R5
INT 7
POP R1
POP R2
POP R2
POP R2
POP R2
MOV R2, SP
MOV R3, 1
SUB R2, R3
MOV [R2], R1
RET
MOV R1, SP
MOV R2, 5
SUB R1, R2
MOV R2, "Read"
MOV R1, [R1]
EQ R1, R2
JZ R1, 128
MOV R1, SP
MOV R2, 4
SUB R1, R2
MOV R2, [R1]
ADD R1, 1
MOV R3, [R1]
ADD R1, 1
MOV R4, [R1]
MOV R5, 7
PUSH R5
PUSH R2
PUSH R3
PUSH R4
PUSH R5
INT 6
POP R1
POP R2
POP R2
POP R2
POP R2
MOV R2, SP
MOV R3, 1
SUB R2, R3
MOV [R2], R1
RET
MOV R1, SP
MOV R2, 5
SUB R1, R2
MOV R2, "Exit"
MOV R1, [R1]
EQ R1, R2
JZ R1, 192
MOV R1, SP
MOV R2, 4
SUB R1, R2
MOV R2, [R1]
ADD R1, 1
MOV R3, [R1]
ADD R1, 1
MOV R4, [R1]
MOV R5, 10
PUSH R5
PUSH R2
PUSH R3
PUSH R4
PUSH R5
INT 10
POP R1
POP R2
POP R2
POP R2
POP R2
MOV R2, SP
MOV R3, 1
SUB R2, R3
MOV [R2], R1
RET
MOV R1, SP
MOV R2, 5
SUB R1, R2
MOV R2, "Alloc"
MOV R1, [R1]
EQ R1, R2
JZ R1, 250
MOV R0, [1024]
MOV [1024], [R0]
MOV R1, R0
MOV [R1], 1000000000
ADD R1, 1
MOV [R1], 1000000000
ADD R1, 1
MOV [R1], 1000000000
ADD R1, 1
MOV [R1], 1000000000
ADD R1, 1
MOV [R1], 1000000000
ADD R1, 1
MOV [R1], 1000000000
ADD R1, 1
MOV [R1], 1000000000
ADD R1, 1
MOV [R1], 1000000000
MOV R1, SP
SUB R1, 1
MOV [R1], R0
RET
MOV R1, SP
MOV R2, 5
SUB R1, R2
MOV R2, "Free"
MOV R1, [R1]
EQ R1, R2
JZ R1, 282
MOV R0, SP
SUB R0, 4
MOV R0, [R0]
MOV R1, R0
MOV R0, [R0]
MOV [R0], [1024]
MOV [1024], R0
MOV [R1], 1000000000
RET
MOV R1, SP
MOV R2, 5
SUB R1, R2
MOV R2, "Init"
MOV R1, [R1]
EQ R1, R2
JZ R1, 318
MOV R0, 1024
MOV R1, R0
ADD R1, 8
MOV R2, 2048
GE R2, R1
JZ R2, 314
MOV [R0], R1
MOV R0, R1
JMP 300
MOV R0, 2040
MOV [R0], 1000000000
RET